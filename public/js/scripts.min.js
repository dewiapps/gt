Parse.initialize("jjrIZ3jiKnpq02brttE2FXl9BuZCmj9ZuY1UTJaU","DkUgGQuFMOOPfyi06JcEWy6W6Qh4bSz2bOMY2wSg");var windowWidth=window.innerWidth;window.addEventListener("load",function(){FastClick.attach(document.body)},!1);var GAME=function(){return{findLeaders:function(){var e=arguments[0],a=arguments[1],r=$("#n").text(),t=$("#u").text();Parse.Cloud.run("getLeaders",{version:a,u:t,currApp:e}).then(function(t){$("#masterLeaderboardTable").html("");var d=1,n=e+"Score";t.forEach(function(e){1===d&&$("#leaderboardMessage").text("nearMe"===a?e.get("username")+" is currently the man":e.get("username")+" is the all time greatest"),e.get("username")==r?($("#masterLeaderboardTable").append("<tr>"),$("#masterLeaderboardTable").append('<td class="green">'+d+"</td>"),$("#masterLeaderboardTable").append('<td class="green">'+e.get("username")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+e.get(n)+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+e.get("gtScore")+"</td>"),$("#masterLeaderboardTable").append("</tr>"),currPlayerStcScore=e.get(n),$("#currUserScore").text(currPlayerStcScore)):($("#masterLeaderboardTable").append("<tr>"),$("#masterLeaderboardTable").append("<td>"+d+"</td>"),$("#masterLeaderboardTable").append("<td>"+e.get("username")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+e.get(n)+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+e.get("gtScore")+"</td>"),$("#masterLeaderboardTable").append("</tr>")),d++}),$(".chart").html("");var s=t.map(function(e){return e.get(n)}),o=$(".leaderboardContainer").width(),c=d3.scale.linear().domain([0,d3.max(s)]).range([0,o]);d3.select(".chart").selectAll("div").data(t).enter().append("div").style("width",function(e){return c(e.get(n))+"px"})},function(e){console.log(e.message)})},masterLeaders:function(){var e=arguments[0],a=$("#n").text(),r=$("#u").text();Parse.Cloud.run("getMasterLeaders",{version:e,u:r}).then(function(r){$("#masterLeaderboardTable").html("");var t=1;r.forEach(function(r){1===t&&$("#leaderboardMessage").text("nearMe"===e?r.get("username")+" is the king of GuitarThinker.com... for now":r.get("username")+" is the all time ruler of GuitarThinker.com"),r.get("username")==a?($("#masterLeaderboardTable").append("<tr>"),$("#masterLeaderboardTable").append('<td class="green">'+t+"</td>"),$("#masterLeaderboardTable").append('<td class="green">'+r.get("username")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+r.get("gcgScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+r.get("stcScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+r.get("mtmScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+r.get("gtScore")+"</td>"),$("#masterLeaderboardTable").append("</tr>")):($("#masterLeaderboardTable").append("<tr>"),$("#masterLeaderboardTable").append("<td>"+t+"</td>"),$("#masterLeaderboardTable").append("<td>"+r.get("username")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+r.get("gcgScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+r.get("stcScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+r.get("mtmScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+r.get("gtScore")+"</td>"),$("#masterLeaderboardTable").append("</tr>")),t++}),$(".chart").html("");var d=r.map(function(e){return e.get("gtScore")}),n=$(".leaderboardContainer").width(),s=d3.scale.linear().domain([0,d3.max(d)]).range([0,n]);d3.select(".chart").selectAll("div").data(r).enter().append("div").style("width",function(e){return s(e.get("gtScore"))+"px"})},function(e){console.log(e.message)})},shuffle:function(e){for(var a,r,t=e.length;0!==t;)r=Math.floor(Math.random()*t),t-=1,a=e[t],e[t]=e[r],e[r]=a;return e}}}();