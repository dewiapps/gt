!function(){console.log("This is awesome stuff right now..")}();
Parse.initialize("jjrIZ3jiKnpq02brttE2FXl9BuZCmj9ZuY1UTJaU","DkUgGQuFMOOPfyi06JcEWy6W6Qh4bSz2bOMY2wSg");var windowWidth=window.innerWidth;window.addEventListener("load",function(){FastClick.attach(document.body)},!1);var GAME=function(){return{findLeaders:function(){var e=arguments[0],a=arguments[1],r=$("#n").text(),t=$("#u").text();Parse.Cloud.run("getLeaders",{version:a,u:t,currApp:e}).then(function(t){$("#masterLeaderboardTable").html("");var d=1,n=e+"Score";t.forEach(function(e){1===d&&$("#leaderboardMessage").text("nearMe"===a?e.get("username")+" is currently the man":e.get("username")+" is the all time greatest"),e.get("username")==r?($("#masterLeaderboardTable").append("<tr>"),$("#masterLeaderboardTable").append('<td class="green">'+d+"</td>"),$("#masterLeaderboardTable").append('<td class="green">'+e.get("username")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+e.get(n)+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+e.get("gtScore")+"</td>"),$("#masterLeaderboardTable").append("</tr>"),currPlayerStcScore=e.get(n),$("#currUserScore").text(currPlayerStcScore)):($("#masterLeaderboardTable").append("<tr>"),$("#masterLeaderboardTable").append("<td>"+d+"</td>"),$("#masterLeaderboardTable").append("<td>"+e.get("username")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+e.get(n)+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+e.get("gtScore")+"</td>"),$("#masterLeaderboardTable").append("</tr>")),d++}),$(".chart").html("");var s=t.map(function(e){return e.get(n)}),o=$(".leaderboardContainer").width(),c=d3.scale.linear().domain([0,d3.max(s)]).range([0,o]);d3.select(".chart").selectAll("div").data(t).enter().append("div").style("width",function(e){return c(e.get(n))+"px"})},function(e){console.log(e.message)})},masterLeaders:function(){var e=arguments[0],a=$("#n").text(),r=$("#u").text();Parse.Cloud.run("getMasterLeaders",{version:e,u:r}).then(function(r){$("#masterLeaderboardTable").html("");var t=1;r.forEach(function(r){1===t&&$("#leaderboardMessage").text("nearMe"===e?r.get("username")+" is the king of GuitarThinker.com... for now":r.get("username")+" is the all time ruler of GuitarThinker.com"),r.get("username")==a?($("#masterLeaderboardTable").append("<tr>"),$("#masterLeaderboardTable").append('<td class="green">'+t+"</td>"),$("#masterLeaderboardTable").append('<td class="green">'+r.get("username")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+r.get("gcgScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+r.get("stcScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+r.get("mtmScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="green scoreTd">'+r.get("gtScore")+"</td>"),$("#masterLeaderboardTable").append("</tr>")):($("#masterLeaderboardTable").append("<tr>"),$("#masterLeaderboardTable").append("<td>"+t+"</td>"),$("#masterLeaderboardTable").append("<td>"+r.get("username")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+r.get("gcgScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+r.get("stcScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+r.get("mtmScore")+"</td>"),$("#masterLeaderboardTable").append('<td class="scoreTd">'+r.get("gtScore")+"</td>"),$("#masterLeaderboardTable").append("</tr>")),t++}),$(".chart").html("");var d=r.map(function(e){return e.get("gtScore")}),n=$(".leaderboardContainer").width(),s=d3.scale.linear().domain([0,d3.max(d)]).range([0,n]);d3.select(".chart").selectAll("div").data(r).enter().append("div").style("width",function(e){return s(e.get("gtScore"))+"px"})},function(e){console.log(e.message)})},shuffle:function(e){for(var a,r,t=e.length;0!==t;)r=Math.floor(Math.random()*t),t-=1,a=e[t],e[t]=e[r],e[r]=a;return e}}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNjcmlwdHMuanMiXSwibmFtZXMiOlsiY29uc29sZSIsImxvZyIsIlBhcnNlIiwiaW5pdGlhbGl6ZSIsIndpbmRvd1dpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJGYXN0Q2xpY2siLCJhdHRhY2giLCJkb2N1bWVudCIsImJvZHkiLCJHQU1FIiwiZmluZExlYWRlcnMiLCJhcHAiLCJhcmd1bWVudHMiLCJjdXJyTGVhZGVyYm9hcmRWZXJzaW9uIiwibiIsIiQiLCJ0ZXh0IiwidSIsIkNsb3VkIiwicnVuIiwidmVyc2lvbiIsImN1cnJBcHAiLCJ0aGVuIiwicmVzdWx0cyIsImh0bWwiLCJpIiwiZm9yRWFjaCIsIml0ZW0iLCJnZXQiLCJhcHBlbmQiLCJjdXJyUGxheWVyU3RjU2NvcmUiLCJzY29yZXNBcnJheSIsIm1hcCIsIm1heFdpZHRoIiwid2lkdGgiLCJ4IiwiZDMiLCJzY2FsZSIsImxpbmVhciIsImRvbWFpbiIsIm1heCIsInJhbmdlIiwic2VsZWN0Iiwic2VsZWN0QWxsIiwiZGF0YSIsImVudGVyIiwic3R5bGUiLCJkIiwiZXJyb3IiLCJtZXNzYWdlIiwibWFzdGVyTGVhZGVycyIsInNodWZmbGUiLCJhcnJheSIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJsZW5ndGgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0VBLFFBQVFDLElBQUk7QUNEZEMsTUFBTUMsV0FBVywyQ0FDRSwyQ0FtQm5CLElBQUlDLGFBQWNDLE9BQU9DLFVBRXpCRCxRQUFPRSxpQkFBaUIsT0FBUSxXQUM1QkMsVUFBVUMsT0FBT0MsU0FBU0MsUUFDM0IsRUFFSCxJQUFJQyxNQUFPLFdBRVQsT0FDRUMsWUFBYSxXQUNYLEdBQUlDLEdBQU1DLFVBQVUsR0FDaEJDLEVBQXlCRCxVQUFVLEdBQ25DRSxFQUFJQyxFQUFFLE1BQU1DLE9BQ1pDLEVBQUlGLEVBQUUsTUFBTUMsTUFDbEJqQixPQUFNbUIsTUFBTUMsSUFBSSxjQUFjQyxRQUFTUCxFQUF3QkksRUFBR0EsRUFBR0ksUUFBU1YsSUFBTVcsS0FBSyxTQUFTQyxHQUM5RlIsRUFBRSwyQkFBMkJTLEtBQUssR0FDbEMsSUFBSUMsR0FBSSxFQUNKSixFQUFVVixFQUFNLE9BQ3BCWSxHQUFRRyxRQUFRLFNBQVNDLEdBQ2IsSUFBTkYsR0FFQVYsRUFBRSx1QkFBdUJDLEtBREcsV0FBM0JILEVBQzZCYyxFQUFLQyxJQUFJLFlBQWMsd0JBRXRCRCxFQUFLQyxJQUFJLFlBQWMsNkJBSXZERCxFQUFLQyxJQUFJLGFBQWVkLEdBQ3pCQyxFQUFFLDJCQUEyQmMsT0FBTyxRQUNwQ2QsRUFBRSwyQkFBMkJjLE9BQU8scUJBQXVCSixFQUFJLFNBQy9EVixFQUFFLDJCQUEyQmMsT0FBTyxxQkFBdUJGLEVBQUtDLElBQUksWUFBYyxTQUNsRmIsRUFBRSwyQkFBMkJjLE9BQU8sNkJBQStCRixFQUFLQyxJQUFJUCxHQUFXLFNBQ3ZGTixFQUFFLDJCQUEyQmMsT0FBTyw2QkFBK0JGLEVBQUtDLElBQUksV0FBYSxTQUN6RmIsRUFBRSwyQkFBMkJjLE9BQU8sU0FDcENDLG1CQUFxQkgsRUFBS0MsSUFBSVAsR0FDOUJOLEVBQUUsa0JBQWtCQyxLQUFLYyxzQkFFekJmLEVBQUUsMkJBQTJCYyxPQUFPLFFBQ3BDZCxFQUFFLDJCQUEyQmMsT0FBTyxPQUFTSixFQUFJLFNBQ2pEVixFQUFFLDJCQUEyQmMsT0FBTyxPQUFTRixFQUFLQyxJQUFJLFlBQWMsU0FDcEViLEVBQUUsMkJBQTJCYyxPQUFPLHVCQUF5QkYsRUFBS0MsSUFBSVAsR0FBVyxTQUNqRk4sRUFBRSwyQkFBMkJjLE9BQU8sdUJBQXlCRixFQUFLQyxJQUFJLFdBQWEsU0FDbkZiLEVBQUUsMkJBQTJCYyxPQUFPLFVBRXRDSixNQUdKVixFQUFFLFVBQVVTLEtBQUssR0FFakIsSUFBSU8sR0FBY1IsRUFBUVMsSUFBSSxTQUFTTCxHQUNyQyxNQUFPQSxHQUFLQyxJQUFJUCxLQUdkWSxFQUFXbEIsRUFBRSx5QkFBeUJtQixRQUV0Q0MsRUFBSUMsR0FBR0MsTUFBTUMsU0FDWkMsUUFBUSxFQUFHSCxHQUFHSSxJQUFJVCxLQUNsQlUsT0FBTyxFQUFHUixHQUVmRyxJQUFHTSxPQUFPLFVBQ1BDLFVBQVUsT0FDUkMsS0FBS3JCLEdBQ1BzQixRQUFRaEIsT0FBTyxPQUNiaUIsTUFBTSxRQUFTLFNBQVNDLEdBQUssTUFBT1osR0FBRVksRUFBRW5CLElBQUlQLElBQVksUUFFM0QsU0FBUzJCLEdBQ1RuRCxRQUFRQyxJQUFJa0QsRUFBTUMsWUFHdEJDLGNBQWUsV0FDYixHQUFJckMsR0FBeUJELFVBQVUsR0FDbkNFLEVBQUlDLEVBQUUsTUFBTUMsT0FDWkMsRUFBSUYsRUFBRSxNQUFNQyxNQUVsQmpCLE9BQU1tQixNQUFNQyxJQUFJLG9CQUFvQkMsUUFBU1AsRUFBd0JJLEVBQUdBLElBQUlLLEtBQUssU0FBU0MsR0FDdEZSLEVBQUUsMkJBQTJCUyxLQUFLLEdBQ2xDLElBQUlDLEdBQUksQ0FFUkYsR0FBUUcsUUFBUSxTQUFTQyxHQUNiLElBQU5GLEdBRUFWLEVBQUUsdUJBQXVCQyxLQURHLFdBQTNCSCxFQUM2QmMsRUFBS0MsSUFBSSxZQUFjLCtDQUV0QkQsRUFBS0MsSUFBSSxZQUFjLCtDQUt2REQsRUFBS0MsSUFBSSxhQUFlZCxHQUN6QkMsRUFBRSwyQkFBMkJjLE9BQU8sUUFDcENkLEVBQUUsMkJBQTJCYyxPQUFPLHFCQUF1QkosRUFBSSxTQUMvRFYsRUFBRSwyQkFBMkJjLE9BQU8scUJBQXVCRixFQUFLQyxJQUFJLFlBQWMsU0FDbEZiLEVBQUUsMkJBQTJCYyxPQUFPLDZCQUErQkYsRUFBS0MsSUFBSSxZQUFjLFNBQzFGYixFQUFFLDJCQUEyQmMsT0FBTyw2QkFBK0JGLEVBQUtDLElBQUksWUFBYyxTQUMxRmIsRUFBRSwyQkFBMkJjLE9BQU8sNkJBQStCRixFQUFLQyxJQUFJLFlBQWMsU0FDMUZiLEVBQUUsMkJBQTJCYyxPQUFPLDZCQUErQkYsRUFBS0MsSUFBSSxXQUFhLFNBQ3pGYixFQUFFLDJCQUEyQmMsT0FBTyxXQUVwQ2QsRUFBRSwyQkFBMkJjLE9BQU8sUUFDcENkLEVBQUUsMkJBQTJCYyxPQUFPLE9BQVNKLEVBQUksU0FDakRWLEVBQUUsMkJBQTJCYyxPQUFPLE9BQVNGLEVBQUtDLElBQUksWUFBYyxTQUNwRWIsRUFBRSwyQkFBMkJjLE9BQU8sdUJBQXlCRixFQUFLQyxJQUFJLFlBQWMsU0FDcEZiLEVBQUUsMkJBQTJCYyxPQUFPLHVCQUF5QkYsRUFBS0MsSUFBSSxZQUFjLFNBQ3BGYixFQUFFLDJCQUEyQmMsT0FBTyx1QkFBeUJGLEVBQUtDLElBQUksWUFBYyxTQUNwRmIsRUFBRSwyQkFBMkJjLE9BQU8sdUJBQXlCRixFQUFLQyxJQUFJLFdBQWEsU0FDbkZiLEVBQUUsMkJBQTJCYyxPQUFPLFVBRXRDSixNQUdKVixFQUFFLFVBQVVTLEtBQUssR0FFakIsSUFBSU8sR0FBY1IsRUFBUVMsSUFBSSxTQUFTTCxHQUNyQyxNQUFPQSxHQUFLQyxJQUFJLGFBR2RLLEVBQVdsQixFQUFFLHlCQUF5Qm1CLFFBRXRDQyxFQUFJQyxHQUFHQyxNQUFNQyxTQUNaQyxRQUFRLEVBQUdILEdBQUdJLElBQUlULEtBQ2xCVSxPQUFPLEVBQUdSLEdBRWZHLElBQUdNLE9BQU8sVUFDUEMsVUFBVSxPQUNSQyxLQUFLckIsR0FDUHNCLFFBQVFoQixPQUFPLE9BQ2JpQixNQUFNLFFBQVMsU0FBU0MsR0FBSyxNQUFPWixHQUFFWSxFQUFFbkIsSUFBSSxZQUFjLFFBQzdELFNBQVNvQixHQUNUbkQsUUFBUUMsSUFBSWtELEVBQU1DLFlBR3RCRSxRQUFTLFNBQVNDLEdBR2QsSUFGQSxHQUFpQ0MsR0FBZ0JDLEVBQTdDQyxFQUFlSCxFQUFNSSxPQUVsQixJQUFNRCxHQUViRCxFQUFjRyxLQUFLQyxNQUFNRCxLQUFLRSxTQUFXSixHQUN6Q0EsR0FBZ0IsRUFFaEJGLEVBQWlCRCxFQUFNRyxHQUN2QkgsRUFBTUcsR0FBZ0JILEVBQU1FLEdBQzVCRixFQUFNRSxHQUFlRCxDQUV2QixPQUFPRCIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGF3ZXNvbWVTdHVmZigpe1xuICBjb25zb2xlLmxvZygnVGhpcyBpcyBhd2Vzb21lIHN0dWZmIHJpZ2h0IG5vdy4uJyk7XG59KSgpO1xuXG4iLCJQYXJzZS5pbml0aWFsaXplKFwiampySVozamlLbnBxMDJicnR0RTJGWGw5QnVaQ21qOVp1WTFVVEphVVwiLFxuICAgICAgICAgICAgICAgICAgIFwiRGtVZ0dRdUZNT09QZnlpMDZKY0VXeTZXNlFoNGJTejJiT01ZMndTZ1wiKTtcblxuLy93aW5kb3cuZmJBc3luY0luaXQgPSBmdW5jdGlvbigpIHtcbi8vICAgIEZCLmluaXQoe1xuLy8gICAgICBhcHBJZCAgICAgIDogJzM4NzI4NDkxODA5MTAxNycsXG4vLyAgICAgIHhmYm1sICAgICAgOiB0cnVlLFxuLy8gICAgICB2ZXJzaW9uICAgIDogJ3YyLjInXG4vLyAgICB9KTtcbi8vXG4vLyAgfTtcbi8vXG4vLyAgKGZ1bmN0aW9uKGQsIHMsIGlkKXtcbi8vICAgICB2YXIganMsIGZqcyA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF07XG4vLyAgICAgaWYgKGQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7cmV0dXJuO31cbi8vICAgICBqcyA9IGQuY3JlYXRlRWxlbWVudChzKTsganMuaWQgPSBpZDtcbi8vICAgICBqcy5zcmMgPSBcIi8vY29ubmVjdC5mYWNlYm9vay5uZXQvZW5fVVMvc2RrLmpzXCI7XG4vLyAgICAgZmpzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGpzLCBmanMpO1xuLy8gICB9KGRvY3VtZW50LCAnc2NyaXB0JywgJ2ZhY2Vib29rLWpzc2RrJykpO1xuXG52YXIgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICBGYXN0Q2xpY2suYXR0YWNoKGRvY3VtZW50LmJvZHkpO1xufSwgZmFsc2UpO1xuXG52YXIgR0FNRSA9IChmdW5jdGlvbigpe1xuICBcbiAgcmV0dXJuIHtcbiAgICBmaW5kTGVhZGVyczogZnVuY3Rpb24oKXtcbiAgICAgIHZhciBhcHAgPSBhcmd1bWVudHNbMF07XG4gICAgICB2YXIgY3VyckxlYWRlcmJvYXJkVmVyc2lvbiA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIHZhciBuID0gJCgnI24nKS50ZXh0KCk7XG4gICAgICB2YXIgdSA9ICQoJyN1JykudGV4dCgpO1xuICAgIFBhcnNlLkNsb3VkLnJ1bihcImdldExlYWRlcnNcIix7dmVyc2lvbjogY3VyckxlYWRlcmJvYXJkVmVyc2lvbiwgdTogdSwgY3VyckFwcDogYXBwfSkudGhlbihmdW5jdGlvbihyZXN1bHRzKXtcbiAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5odG1sKFwiXCIpO1xuICAgICAgICB2YXIgaSA9IDE7XG4gICAgICAgIHZhciBjdXJyQXBwID0gYXBwICsgXCJTY29yZVwiO1xuICAgICAgICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7ICBcbiAgICAgICAgICBpZiggaSA9PT0gMSApe1xuICAgICAgICAgICAgaWYoY3VyckxlYWRlcmJvYXJkVmVyc2lvbiA9PT0gXCJuZWFyTWVcIil7XG4gICAgICAgICAgICAgICQoJyNsZWFkZXJib2FyZE1lc3NhZ2UnKS50ZXh0KGl0ZW0uZ2V0KFwidXNlcm5hbWVcIikgKyAnIGlzIGN1cnJlbnRseSB0aGUgbWFuJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICQoJyNsZWFkZXJib2FyZE1lc3NhZ2UnKS50ZXh0KGl0ZW0uZ2V0KFwidXNlcm5hbWVcIikgKyAnIGlzIHRoZSBhbGwgdGltZSBncmVhdGVzdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZihpdGVtLmdldChcInVzZXJuYW1lXCIpID09IG4pe1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0cj4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQgY2xhc3M9XCJncmVlblwiPicgKyBpICsgJzwvdGQ+Jyk7XG4gICAgICAgICAgICAkKCcjbWFzdGVyTGVhZGVyYm9hcmRUYWJsZScpLmFwcGVuZCgnPHRkIGNsYXNzPVwiZ3JlZW5cIj4nICsgaXRlbS5nZXQoXCJ1c2VybmFtZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0ZCBjbGFzcz1cImdyZWVuIHNjb3JlVGRcIj4nICsgaXRlbS5nZXQoY3VyckFwcCkgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQgY2xhc3M9XCJncmVlbiBzY29yZVRkXCI+JyArIGl0ZW0uZ2V0KFwiZ3RTY29yZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzwvdHI+Jyk7XG4gICAgICAgICAgICBjdXJyUGxheWVyU3RjU2NvcmUgPSBpdGVtLmdldChjdXJyQXBwKTtcbiAgICAgICAgICAgICQoJyNjdXJyVXNlclNjb3JlJykudGV4dChjdXJyUGxheWVyU3RjU2NvcmUpO1xuICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKCcjbWFzdGVyTGVhZGVyYm9hcmRUYWJsZScpLmFwcGVuZCgnPHRyPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0ZD4nICsgaSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0ZD4nICsgaXRlbS5nZXQoXCJ1c2VybmFtZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0ZCBjbGFzcz1cInNjb3JlVGRcIj4nICsgaXRlbS5nZXQoY3VyckFwcCkgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQgY2xhc3M9XCJzY29yZVRkXCI+JyArIGl0ZW0uZ2V0KFwiZ3RTY29yZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzwvdHI+Jyk7XG4gICAgICAgICB9XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgJCgnLmNoYXJ0JykuaHRtbChcIlwiKTtcbiAgICAgIFxuICAgICAgdmFyIHNjb3Jlc0FycmF5ID0gcmVzdWx0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiBpdGVtLmdldChjdXJyQXBwKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICB2YXIgbWF4V2lkdGggPSAkKCcubGVhZGVyYm9hcmRDb250YWluZXInKS53aWR0aCgpO1xuICAgICAgICAgXG4gICAgICB2YXIgeCA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAgICAgLmRvbWFpbihbMCwgZDMubWF4KHNjb3Jlc0FycmF5KV0pXG4gICAgICAgICAgLnJhbmdlKFswLCBtYXhXaWR0aF0pO1xuXG4gICAgICBkMy5zZWxlY3QoXCIuY2hhcnRcIilcbiAgICAgICAgLnNlbGVjdEFsbChcImRpdlwiKVxuICAgICAgICAgIC5kYXRhKHJlc3VsdHMpXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImRpdlwiKVxuICAgICAgICAgIC5zdHlsZShcIndpZHRoXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC5nZXQoY3VyckFwcCkpICsgXCJweFwiOyB9KVxuXG4gICAgICB9LGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9LC8vIGVuZCBmaW5kTGVhZGVyc1xuICAgIG1hc3RlckxlYWRlcnM6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgY3VyckxlYWRlcmJvYXJkVmVyc2lvbiA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHZhciBuID0gJCgnI24nKS50ZXh0KCk7XG4gICAgICB2YXIgdSA9ICQoJyN1JykudGV4dCgpO1xuIFxuICAgIFBhcnNlLkNsb3VkLnJ1bihcImdldE1hc3RlckxlYWRlcnNcIix7dmVyc2lvbjogY3VyckxlYWRlcmJvYXJkVmVyc2lvbiwgdTogdX0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0cyl7XG4gICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuaHRtbChcIlwiKTtcbiAgICAgICAgdmFyIGkgPSAxO1xuICAgICAgICBcbiAgICAgICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgIGlmKCBpID09PSAxICl7XG4gICAgICAgICAgICBpZihjdXJyTGVhZGVyYm9hcmRWZXJzaW9uID09PSBcIm5lYXJNZVwiKXtcbiAgICAgICAgICAgICAgJCgnI2xlYWRlcmJvYXJkTWVzc2FnZScpLnRleHQoaXRlbS5nZXQoXCJ1c2VybmFtZVwiKSArICcgaXMgdGhlIGtpbmcgb2YgR3VpdGFyVGhpbmtlci5jb20uLi4gZm9yIG5vdycpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAkKCcjbGVhZGVyYm9hcmRNZXNzYWdlJykudGV4dChpdGVtLmdldChcInVzZXJuYW1lXCIpICsgJyBpcyB0aGUgYWxsIHRpbWUgcnVsZXIgb2YgR3VpdGFyVGhpbmtlci5jb20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZihpdGVtLmdldChcInVzZXJuYW1lXCIpID09IG4pe1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0cj4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQgY2xhc3M9XCJncmVlblwiPicgKyBpICsgJzwvdGQ+Jyk7XG4gICAgICAgICAgICAkKCcjbWFzdGVyTGVhZGVyYm9hcmRUYWJsZScpLmFwcGVuZCgnPHRkIGNsYXNzPVwiZ3JlZW5cIj4nICsgaXRlbS5nZXQoXCJ1c2VybmFtZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0ZCBjbGFzcz1cImdyZWVuIHNjb3JlVGRcIj4nICsgaXRlbS5nZXQoXCJnY2dTY29yZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0ZCBjbGFzcz1cImdyZWVuIHNjb3JlVGRcIj4nICsgaXRlbS5nZXQoXCJzdGNTY29yZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0ZCBjbGFzcz1cImdyZWVuIHNjb3JlVGRcIj4nICsgaXRlbS5nZXQoXCJtdG1TY29yZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0ZCBjbGFzcz1cImdyZWVuIHNjb3JlVGRcIj4nICsgaXRlbS5nZXQoXCJndFNjb3JlXCIpICsgJzwvdGQ+Jyk7XG4gICAgICAgICAgICAkKCcjbWFzdGVyTGVhZGVyYm9hcmRUYWJsZScpLmFwcGVuZCgnPC90cj4nKTtcbiAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzx0cj4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQ+JyArIGkgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQ+JyArIGl0ZW0uZ2V0KFwidXNlcm5hbWVcIikgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQgY2xhc3M9XCJzY29yZVRkXCI+JyArIGl0ZW0uZ2V0KFwiZ2NnU2NvcmVcIikgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQgY2xhc3M9XCJzY29yZVRkXCI+JyArIGl0ZW0uZ2V0KFwic3RjU2NvcmVcIikgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQgY2xhc3M9XCJzY29yZVRkXCI+JyArIGl0ZW0uZ2V0KFwibXRtU2NvcmVcIikgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICQoJyNtYXN0ZXJMZWFkZXJib2FyZFRhYmxlJykuYXBwZW5kKCc8dGQgY2xhc3M9XCJzY29yZVRkXCI+JyArIGl0ZW0uZ2V0KFwiZ3RTY29yZVwiKSArICc8L3RkPicpO1xuICAgICAgICAgICAgJCgnI21hc3RlckxlYWRlcmJvYXJkVGFibGUnKS5hcHBlbmQoJzwvdHI+Jyk7XG4gICAgICAgICB9XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgJCgnLmNoYXJ0JykuaHRtbChcIlwiKTtcbiAgICAgIFxuICAgICAgdmFyIHNjb3Jlc0FycmF5ID0gcmVzdWx0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiBpdGVtLmdldChcImd0U2NvcmVcIik7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgdmFyIG1heFdpZHRoID0gJCgnLmxlYWRlcmJvYXJkQ29udGFpbmVyJykud2lkdGgoKTtcbiAgICAgICAgIFxuICAgICAgdmFyIHggPSBkMy5zY2FsZS5saW5lYXIoKVxuICAgICAgICAgIC5kb21haW4oWzAsIGQzLm1heChzY29yZXNBcnJheSldKVxuICAgICAgICAgIC5yYW5nZShbMCwgbWF4V2lkdGhdKTtcblxuICAgICAgZDMuc2VsZWN0KFwiLmNoYXJ0XCIpXG4gICAgICAgIC5zZWxlY3RBbGwoXCJkaXZcIilcbiAgICAgICAgICAuZGF0YShyZXN1bHRzKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJkaXZcIilcbiAgICAgICAgICAuc3R5bGUoXCJ3aWR0aFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4KGQuZ2V0KFwiZ3RTY29yZVwiKSkgKyBcInB4XCI7IH0pXG4gICAgICB9LGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9LC8vZW5kIG1hc3RlckxlYWRlcnNcbiAgICBzaHVmZmxlOiBmdW5jdGlvbihhcnJheSl7XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGgsIHRlbXBvcmFyeVZhbHVlLCByYW5kb21JbmRleCA7XG4gICAgICAgIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxlLi4uXG4gICAgICAgIHdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW50Li4uXG4gICAgICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KTtcbiAgICAgICAgY3VycmVudEluZGV4IC09IDE7XG4gICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgICAgICBhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdO1xuICAgICAgICBhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9Ly8gZW5kIHNodWZmbGVcbiAgfVxufSkoKTsvLyBlbmQgR0FNRSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==